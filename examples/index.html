<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>@radio4000/sdk</title>
		<link rel="icon" href="data:;base64,ivborw0kggo=">
	</head>
	<body>

		<article>
			<p>
				Testing the <a href="https://github.com/radio4000/sdk">@radio4000/sdk</a>.
				Try it out in the browser console under `window.sdk`.</p>
		</article>

		<ul id="channels"></ul>

		<script type="module">
			// this "index.js" file is only present during `npm run dev`
			import sdk from '../index.js'
			import {findChannelBySlug} from '../index.js'
			// For debugging
			window.sdk = sdk
			window.findChannelBySlug = findChannelBySlug
			console.log('The sdk is now available under window.sdk')

			const ul = document.querySelector('#channels')
			sdk.findChannels(100).then(response => {
				console.log(response)
				for (const c of response.data) {
					const li = document.createElement('li')
					li.textContent = c.name + ' @' + c.slug
					ul.appendChild(li)
				}

				findChannelBySlug(response.data[0].slug).then(res => console.log(res))
			})

		</script>

	</body>
</html>
